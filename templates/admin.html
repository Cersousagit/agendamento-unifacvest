<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel Administrativo</title>

<style>
body {
    font-family: Arial;
    background: #f4f6f8;
}

.container {
    width: 80%;
    margin: auto;
}

.card {
    background: white;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 6px;
}

button {
    background: green;
    color: white;
    border: none;
    padding: 6px 10px;
    cursor: pointer;
}
</style>
</head>

<body>

<div class="container">

<img src="/static/unifacvest.png" width="180">

<h2>Provas Agendadas</h2>

{% for a in agendamentos %}
<div class="card">
    <strong>{{ a.nome }}</strong><br>
    Disciplinas: {{ a.disciplinas }}<br>
    Data: {{ a.data }} | Hora: {{ a.hora }}<br>

    {% if not a.presente %}
        <a href="{{ url_for('presenca', id=a.id) }}">
            <button>Marcar Presença</button>
        </a>
    {% else %}
        <span style="color:green;">✔ Presente</span>
    {% endif %}
</div>
{% endfor %}

<hr>

<h3>Dashboard</h3>

<canvas id="grafico"></canvas>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
new Chart(document.getElementById('grafico'), {
    type: 'bar',
    data: {
        labels: ['Total', 'Presentes', 'Ausentes'],
        datasets: [{
            label: 'Provas',
            data: [{{ total }}, {{ presentes }}, {{ ausentes }}]
        }]
    }
});
</script>

</body>
</html>
